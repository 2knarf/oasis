From 22c793025b6029dfee88edbb75e90884af529a55 Mon Sep 17 00:00:00 2001
From: Michael Forney <mforney@mforney.org>
Date: Sat, 1 Jun 2019 23:14:33 -0700
Subject: [PATCH] Revert "WRITEFUNCTION: add missing set_in_callback around
 callback"

This reverts commit 0eec832603d3a4ba9ae69a16351cf29c37f7fb7c.
---
 lib/sendf.c | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

diff --git a/lib/sendf.c b/lib/sendf.c
index 5913ea406..504a28ae4 100644
--- a/lib/sendf.c
+++ b/lib/sendf.c
@@ -595,10 +595,7 @@ static CURLcode chop_write(struct connectdata *conn,
     size_t chunklen = len <= CURL_MAX_WRITE_SIZE? len: CURL_MAX_WRITE_SIZE;
 
     if(writebody) {
-      size_t wrote;
-      Curl_set_in_callback(data, true);
-      wrote = writebody(ptr, 1, chunklen, data->set.out);
-      Curl_set_in_callback(data, false);
+      size_t wrote = writebody(ptr, 1, chunklen, data->set.out);
 
       if(CURL_WRITEFUNC_PAUSE == wrote) {
         if(conn->handler->flags & PROTOPT_NONETWORK) {
-- 
2.21.0

