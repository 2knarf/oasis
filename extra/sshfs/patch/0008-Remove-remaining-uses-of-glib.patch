From e1b37bd0bbb61e8b425972ee0321ba501b1d4ea2 Mon Sep 17 00:00:00 2001
From: Michael Forney <mforney@mforney.org>
Date: Sun, 5 Jun 2016 18:24:31 -0700
Subject: [PATCH] Remove remaining uses of glib

---
 sshfs.c | 5 -----
 1 file changed, 5 deletions(-)

diff --git a/sshfs.c b/sshfs.c
index 3448f4d..d548c98 100644
--- a/sshfs.c
+++ b/sshfs.c
@@ -42,7 +42,6 @@
 #include <sys/poll.h>
 #include <netinet/in.h>
 #include <netinet/tcp.h>
-#include <glib.h>
 #include <pwd.h>
 #include <grp.h>
 #include <limits.h>
@@ -3985,11 +3984,7 @@ int main(int argc, char *argv[])
 	if (!realpath(*exec_path, sshfs_program_path)) {
 		memset(sshfs_program_path, 0, PATH_MAX);
 	}
-
-	/* Until this gets fixed somewhere else. */
-	g_slice_set_config(G_SLICE_CONFIG_ALWAYS_MALLOC, TRUE);
 #endif /* __APPLE__ */
-	g_thread_init(NULL);
 
 	sshfs.blksize = 4096;
 	/* SFTP spec says all servers should allow at least 32k I/O */
-- 
2.8.1

